<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Rifa Interativa</title>
  <style>
    body {
      background: #fefefe;
      font-family: sans-serif;
      padding: 20px;
    }
    .rifa-container {
      margin-bottom: 40px;
      position: relative;
      width: 864px;
      margin-left: auto;
      margin-right: auto;
    }
    .rifa-bg {
      width: 100%;
      display: block;
    }
    .numero {
      position: absolute;
      width: 52px;
      height: 52px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      font-size: 24px;
      color: black;
      background-color: rgba(255, 255, 255, 0.8);
      border: 2px solid #333;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      cursor: pointer;
      transition: 0.2s ease-in-out;
    }
    .numero:hover {
      transform: scale(1.1);
    }
    .vendido {
      background-color: red !important;
      color: white !important;
      border-color: white !important;
      box-shadow: 0 0 10px red;
    }
    .loading {
      text-align: center;
      padding: 20px;
      font-size: 18px;
    }
    .rifa-title {
      text-align: center;
      font-size: 24px;
      margin: 20px 0;
      color: #333;
    }
    .rifa-1 .numero { background-color: rgba(255, 255, 255, 0.8); }
    .rifa-2 .numero { background-color: rgba(200, 230, 255, 0.8); }
    .rifa-3 .numero { background-color: rgba(255, 230, 200, 0.8); }
    .save-btn-container {
      text-align: center;
      margin-top: 20px;
    }
    .save-btn {
      padding: 10px 20px;
      font-size: 18px;
      cursor: pointer;
      background-color: #4CAF50;
      color: white;
      border: none;
      border-radius: 4px;
      transition: background-color 0.3s;
    }
    .save-btn:hover {
      background-color: #45a049;
    }
  </style>
</head>
<body>

<!-- Rifa 1 (1-100) -->
<div class="rifa-title">Rifa 1 (Números 1-100)</div>
<div class="rifa-container rifa-1">
  <img src="https://i.ibb.co/9mfXL8vR/Rifa-sem-numeros.jpg" alt="Rifa" class="rifa-bg">
  <!-- Números 1-100 -->
  <div class="numero" data-valor="1" style="left: 106.00px; top: 374.00px;">1</div>
  <div class="numero" data-valor="2" style="left: 173.22px; top: 374.00px;">2</div>
  <div class="numero" data-valor="3" style="left: 240.44px; top: 374.00px;">3</div>
  <div class="numero" data-valor="4" style="left: 307.66px; top: 374.00px;">4</div>
  <div class="numero" data-valor="5" style="left: 374.88px; top: 374.00px;">5</div>
  <div class="numero" data-valor="6" style="left: 442.10px; top: 374.00px;">6</div>
  <div class="numero" data-valor="7" style="left: 509.32px; top: 374.00px;">7</div>
  <div class="numero" data-valor="8" style="left: 576.54px; top: 374.00px;">8</div>
  <div class="numero" data-valor="9" style="left: 643.76px; top: 374.00px;">9</div>
  <div class="numero" data-valor="10" style="left: 710.98px; top: 374.00px;">10</div>
  <div class="numero" data-valor="11" style="left: 106.00px; top: 442.78px;">11</div>
  <div class="numero" data-valor="12" style="left: 173.22px; top: 442.78px;">12</div>
  <div class="numero" data-valor="13" style="left: 240.44px; top: 442.78px;">13</div>
  <div class="numero" data-valor="14" style="left: 307.66px; top: 442.78px;">14</div>
  <div class="numero" data-valor="15" style="left: 374.88px; top: 442.78px;">15</div>
  <div class="numero" data-valor="16" style="left: 442.10px; top: 442.78px;">16</div>
  <div class="numero" data-valor="17" style="left: 509.32px; top: 442.78px;">17</div>
  <div class="numero" data-valor="18" style="left: 576.54px; top: 442.78px;">18</div>
  <div class="numero" data-valor="19" style="left: 643.76px; top: 442.78px;">19</div>
  <div class="numero" data-valor="20" style="left: 710.98px; top: 442.78px;">20</div>
  <div class="numero" data-valor="21" style="left: 106.00px; top: 511.56px;">21</div>
  <div class="numero" data-valor="22" style="left: 173.22px; top: 511.56px;">22</div>
  <div class="numero" data-valor="23" style="left: 240.44px; top: 511.56px;">23</div>
  <div class="numero" data-valor="24" style="left: 307.66px; top: 511.56px;">24</div>
  <div class="numero" data-valor="25" style="left: 374.88px; top: 511.56px;">25</div>
  <div class="numero" data-valor="26" style="left: 442.10px; top: 511.56px;">26</div>
  <div class="numero" data-valor="27" style="left: 509.32px; top: 511.56px;">27</div>
  <div class="numero" data-valor="28" style="left: 576.54px; top: 511.56px;">28</div>
  <div class="numero" data-valor="29" style="left: 643.76px; top: 511.56px;">29</div>
  <div class="numero" data-valor="30" style="left: 710.98px; top: 511.56px;">30</div>
  <div class="numero" data-valor="31" style="left: 106.00px; top: 580.34px;">31</div>
  <div class="numero" data-valor="32" style="left: 173.22px; top: 580.34px;">32</div>
  <div class="numero" data-valor="33" style="left: 240.44px; top: 580.34px;">33</div>
  <div class="numero" data-valor="34" style="left: 307.66px; top: 580.34px;">34</div>
  <div class="numero" data-valor="35" style="left: 374.88px; top: 580.34px;">35</div>
  <div class="numero" data-valor="36" style="left: 442.10px; top: 580.34px;">36</div>
  <div class="numero" data-valor="37" style="left: 509.32px; top: 580.34px;">37</div>
  <div class="numero" data-valor="38" style="left: 576.54px; top: 580.34px;">38</div>
  <div class="numero" data-valor="39" style="left: 643.76px; top: 580.34px;">39</div>
  <div class="numero" data-valor="40" style="left: 710.98px; top: 580.34px;">40</div>
  <div class="numero" data-valor="41" style="left: 106.00px; top: 649.12px;">41</div>
  <div class="numero" data-valor="42" style="left: 173.22px; top: 649.12px;">42</div>
  <div class="numero" data-valor="43" style="left: 240.44px; top: 649.12px;">43</div>
  <div class="numero" data-valor="44" style="left: 307.66px; top: 649.12px;">44</div>
  <div class="numero" data-valor="45" style="left: 374.88px; top: 649.12px;">45</div>
  <div class="numero" data-valor="46" style="left: 442.10px; top: 649.12px;">46</div>
  <div class="numero" data-valor="47" style="left: 509.32px; top: 649.12px;">47</div>
  <div class="numero" data-valor="48" style="left: 576.54px; top: 649.12px;">48</div>
  <div class="numero" data-valor="49" style="left: 643.76px; top: 649.12px;">49</div>
  <div class="numero" data-valor="50" style="left: 710.98px; top: 649.12px;">50</div>
  <div class="numero" data-valor="51" style="left: 106.00px; top: 717.90px;">51</div>
  <div class="numero" data-valor="52" style="left: 173.22px; top: 717.90px;">52</div>
  <div class="numero" data-valor="53" style="left: 240.44px; top: 717.90px;">53</div>
  <div class="numero" data-valor="54" style="left: 307.66px; top: 717.90px;">54</div>
  <div class="numero" data-valor="55" style="left: 374.88px; top: 717.90px;">55</div>
  <div class="numero" data-valor="56" style="left: 442.10px; top: 717.90px;">56</div>
  <div class="numero" data-valor="57" style="left: 509.32px; top: 717.90px;">57</div>
  <div class="numero" data-valor="58" style="left: 576.54px; top: 717.90px;">58</div>
  <div class="numero" data-valor="59" style="left: 643.76px; top: 717.90px;">59</div>
  <div class="numero" data-valor="60" style="left: 710.98px; top: 717.90px;">60</div>
  <div class="numero" data-valor="61" style="left: 106.00px; top: 786.68px;">61</div>
  <div class="numero" data-valor="62" style="left: 173.22px; top: 786.68px;">62</div>
  <div class="numero" data-valor="63" style="left: 240.44px; top: 786.68px;">63</div>
  <div class="numero" data-valor="64" style="left: 307.66px; top: 786.68px;">64</div>
  <div class="numero" data-valor="65" style="left: 374.88px; top: 786.68px;">65</div>
  <div class="numero" data-valor="66" style="left: 442.10px; top: 786.68px;">66</div>
  <div class="numero" data-valor="67" style="left: 509.32px; top: 786.68px;">67</div>
  <div class="numero" data-valor="68" style="left: 576.54px; top: 786.68px;">68</div>
  <div class="numero" data-valor="69" style="left: 643.76px; top: 786.68px;">69</div>
  <div class="numero" data-valor="70" style="left: 710.98px; top: 786.68px;">70</div>
  <div class="numero" data-valor="71" style="left: 106.00px; top: 855.46px;">71</div>
  <div class="numero" data-valor="72" style="left: 173.22px; top: 855.46px;">72</div>
  <div class="numero" data-valor="73" style="left: 240.44px; top: 855.46px;">73</div>
  <div class="numero" data-valor="74" style="left: 307.66px; top: 855.46px;">74</div>
  <div class="numero" data-valor="75" style="left: 374.88px; top: 855.46px;">75</div>
  <div class="numero" data-valor="76" style="left: 442.10px; top: 855.46px;">76</div>
  <div class="numero" data-valor="77" style="left: 509.32px; top: 855.46px;">77</div>
  <div class="numero" data-valor="78" style="left: 576.54px; top: 855.46px;">78</div>
  <div class="numero" data-valor="79" style="left: 643.76px; top: 855.46px;">79</div>
  <div class="numero" data-valor="80" style="left: 710.98px; top: 855.46px;">80</div>
  <div class="numero" data-valor="81" style="left: 106.00px; top: 924.24px;">81</div>
  <div class="numero" data-valor="82" style="left: 173.22px; top: 924.24px;">82</div>
  <div class="numero" data-valor="83" style="left: 240.44px; top: 924.24px;">83</div>
  <div class="numero" data-valor="84" style="left: 307.66px; top: 924.24px;">84</div>
  <div class="numero" data-valor="85" style="left: 374.88px; top: 924.24px;">85</div>
  <div class="numero" data-valor="86" style="left: 442.10px; top: 924.24px;">86</div>
  <div class="numero" data-valor="87" style="left: 509.32px; top: 924.24px;">87</div>
  <div class="numero" data-valor="88" style="left: 576.54px; top: 924.24px;">88</div>
  <div class="numero" data-valor="89" style="left: 643.76px; top: 924.24px;">89</div>
  <div class="numero" data-valor="90" style="left: 710.98px; top: 924.24px;">90</div>
  <div class="numero" data-valor="91" style="left: 106.00px; top: 993.02px;">91</div>
  <div class="numero" data-valor="92" style="left: 173.22px; top: 993.02px;">92</div>
  <div class="numero" data-valor="93" style="left: 240.44px; top: 993.02px;">93</div>
  <div class="numero" data-valor="94" style="left: 307.66px; top: 993.02px;">94</div>
  <div class="numero" data-valor="95" style="left: 374.88px; top: 993.02px;">95</div>
  <div class="numero" data-valor="96" style="left: 442.10px; top: 993.02px;">96</div>
  <div class="numero" data-valor="97" style="left: 509.32px; top: 993.02px;">97</div>
  <div class="numero" data-valor="98" style="left: 576.54px; top: 993.02px;">98</div>
  <div class="numero" data-valor="99" style="left: 643.76px; top: 993.02px;">99</div>
  <div class="numero" data-valor="100" style="left: 710.98px; top: 993.02px;">100</div>
  
  <div class="loading" id="loading-1">Carregando status dos números...</div>
  
  <div class="save-btn-container">
    <button class="save-btn" onclick="salvarRifaComoImagem(1)">Salvar Rifa 1 como Imagem</button>
  </div>
</div>

<!-- Rifa 2 (101-200) -->
<div class="rifa-title">Rifa 2 (Números 101-200)</div>
<div class="rifa-container rifa-2">
  <img src="https://i.ibb.co/9mfXL8vR/Rifa-sem-numeros.jpg" alt="Rifa" class="rifa-bg">
  <!-- Números 101-200 -->
  <div class="numero" data-valor="101" style="left: 106.00px; top: 374.00px;">101</div>
  <div class="numero" data-valor="102" style="left: 173.22px; top: 374.00px;">102</div>
  <div class="numero" data-valor="103" style="left: 240.44px; top: 374.00px;">103</div>
  <div class="numero" data-valor="104" style="left: 307.66px; top: 374.00px;">104</div>
  <div class="numero" data-valor="105" style="left: 374.88px; top: 374.00px;">105</div>
  <div class="numero" data-valor="106" style="left: 442.10px; top: 374.00px;">106</div>
  <div class="numero" data-valor="107" style="left: 509.32px; top: 374.00px;">107</div>
  <div class="numero" data-valor="108" style="left: 576.54px; top: 374.00px;">108</div>
  <div class="numero" data-valor="109" style="left: 643.76px; top: 374.00px;">109</div>
  <div class="numero" data-valor="110" style="left: 710.98px; top: 374.00px;">110</div>
  <div class="numero" data-valor="111" style="left: 106.00px; top: 442.78px;">111</div>
  <div class="numero" data-valor="112" style="left: 173.22px; top: 442.78px;">112</div>
  <div class="numero" data-valor="113" style="left: 240.44px; top: 442.78px;">113</div>
  <div class="numero" data-valor="114" style="left: 307.66px; top: 442.78px;">114</div>
  <div class="numero" data-valor="115" style="left: 374.88px; top: 442.78px;">115</div>
  <div class="numero" data-valor="116" style="left: 442.10px; top: 442.78px;">116</div>
  <div class="numero" data-valor="117" style="left: 509.32px; top: 442.78px;">117</div>
  <div class="numero" data-valor="118" style="left: 576.54px; top: 442.78px;">118</div>
  <div class="numero" data-valor="119" style="left: 643.76px; top: 442.78px;">119</div>
  <div class="numero" data-valor="120" style="left: 710.98px; top: 442.78px;">120</div>
  <div class="numero" data-valor="121" style="left: 106.00px; top: 511.56px;">121</div>
  <div class="numero" data-valor="122" style="left: 173.22px; top: 511.56px;">122</div>
  <div class="numero" data-valor="123" style="left: 240.44px; top: 511.56px;">123</div>
  <div class="numero" data-valor="124" style="left: 307.66px; top: 511.56px;">124</div>
  <div class="numero" data-valor="125" style="left: 374.88px; top: 511.56px;">125</div>
  <div class="numero" data-valor="126" style="left: 442.10px; top: 511.56px;">126</div>
  <div class="numero" data-valor="127" style="left: 509.32px; top: 511.56px;">127</div>
  <div class="numero" data-valor="128" style="left: 576.54px; top: 511.56px;">128</div>
  <div class="numero" data-valor="129" style="left: 643.76px; top: 511.56px;">129</div>
  <div class="numero" data-valor="130" style="left: 710.98px; top: 511.56px;">130</div>
  <div class="numero" data-valor="131" style="left: 106.00px; top: 580.34px;">131</div>
  <div class="numero" data-valor="132" style="left: 173.22px; top: 580.34px;">132</div>
  <div class="numero" data-valor="133" style="left: 240.44px; top: 580.34px;">133</div>
  <div class="numero" data-valor="134" style="left: 307.66px; top: 580.34px;">134</div>
  <div class="numero" data-valor="135" style="left: 374.88px; top: 580.34px;">135</div>
  <div class="numero" data-valor="136" style="left: 442.10px; top: 580.34px;">136</div>
  <div class="numero" data-valor="137" style="left: 509.32px; top: 580.34px;">137</div>
  <div class="numero" data-valor="138" style="left: 576.54px; top: 580.34px;">138</div>
  <div class="numero" data-valor="139" style="left: 643.76px; top: 580.34px;">139</div>
  <div class="numero" data-valor="140" style="left: 710.98px; top: 580.34px;">140</div>
  <div class="numero" data-valor="141" style="left: 106.00px; top: 649.12px;">141</div>
  <div class="numero" data-valor="142" style="left: 173.22px; top: 649.12px;">142</div>
  <div class="numero" data-valor="143" style="left: 240.44px; top: 649.12px;">143</div>
  <div class="numero" data-valor="144" style="left: 307.66px; top: 649.12px;">144</div>
  <div class="numero" data-valor="145" style="left: 374.88px; top: 649.12px;">145</div>
  <div class="numero" data-valor="146" style="left: 442.10px; top: 649.12px;">146</div>
  <div class="numero" data-valor="147" style="left: 509.32px; top: 649.12px;">147</div>
  <div class="numero" data-valor="148" style="left: 576.54px; top: 649.12px;">148</div>
  <div class="numero" data-valor="149" style="left: 643.76px; top: 649.12px;">149</div>
  <div class="numero" data-valor="150" style="left: 710.98px; top: 649.12px;">150</div>
  <div class="numero" data-valor="151" style="left: 106.00px; top: 717.90px;">151</div>
  <div class="numero" data-valor="152" style="left: 173.22px; top: 717.90px;">152</div>
  <div class="numero" data-valor="153" style="left: 240.44px; top: 717.90px;">153</div>
  <div class="numero" data-valor="154" style="left: 307.66px; top: 717.90px;">154</div>
  <div class="numero" data-valor="155" style="left: 374.88px; top: 717.90px;">155</div>
  <div class="numero" data-valor="156" style="left: 442.10px; top: 717.90px;">156</div>
  <div class="numero" data-valor="157" style="left: 509.32px; top: 717.90px;">157</div>
  <div class="numero" data-valor="158" style="left: 576.54px; top: 717.90px;">158</div>
  <div class="numero" data-valor="159" style="left: 643.76px; top: 717.90px;">159</div>
  <div class="numero" data-valor="160" style="left: 710.98px; top: 717.90px;">160</div>
  <div class="numero" data-valor="161" style="left: 106.00px; top: 786.68px;">161</div>
  <div class="numero" data-valor="162" style="left: 173.22px; top: 786.68px;">162</div>
  <div class="numero" data-valor="163" style="left: 240.44px; top: 786.68px;">163</div>
  <div class="numero" data-valor="164" style="left: 307.66px; top: 786.68px;">164</div>
  <div class="numero" data-valor="165" style="left: 374.88px; top: 786.68px;">165</div>
  <div class="numero" data-valor="166" style="left: 442.10px; top: 786.68px;">166</div>
  <div class="numero" data-valor="167" style="left: 509.32px; top: 786.68px;">167</div>
  <div class="numero" data-valor="168" style="left: 576.54px; top: 786.68px;">168</div>
  <div class="numero" data-valor="169" style="left: 643.76px; top: 786.68px;">169</div>
  <div class="numero" data-valor="170" style="left: 710.98px; top: 786.68px;">170</div>
  <div class="numero" data-valor="171" style="left: 106.00px; top: 855.46px;">171</div>
  <div class="numero" data-valor="172" style="left: 173.22px; top: 855.46px;">172</div>
  <div class="numero" data-valor="173" style="left: 240.44px; top: 855.46px;">173</div>
  <div class="numero" data-valor="174" style="left: 307.66px; top: 855.46px;">174</div>
  <div class="numero" data-valor="175" style="left: 374.88px; top: 855.46px;">175</div>
  <div class="numero" data-valor="176" style="left: 442.10px; top: 855.46px;">176</div>
  <div class="numero" data-valor="177" style="left: 509.32px; top: 855.46px;">177</div>
  <div class="numero" data-valor="178" style="left: 576.54px; top: 855.46px;">178</div>
  <div class="numero" data-valor="179" style="left: 643.76px; top: 855.46px;">179</div>
  <div class="numero" data-valor="180" style="left: 710.98px; top: 855.46px;">180</div>
  <div class="numero" data-valor="181" style="left: 106.00px; top: 924.24px;">181</div>
  <div class="numero" data-valor="182" style="left: 173.22px; top: 924.24px;">182</div>
  <div class="numero" data-valor="183" style="left: 240.44px; top: 924.24px;">183</div>
  <div class="numero" data-valor="184" style="left: 307.66px; top: 924.24px;">184</div>
  <div class="numero" data-valor="185" style="left: 374.88px; top: 924.24px;">185</div>
  <div class="numero" data-valor="186" style="left: 442.10px; top: 924.24px;">186</div>
  <div class="numero" data-valor="187" style="left: 509.32px; top: 924.24px;">187</div>
  <div class="numero" data-valor="188" style="left: 576.54px; top: 924.24px;">188</div>
  <div class="numero" data-valor="189" style="left: 643.76px; top: 924.24px;">189</div>
  <div class="numero" data-valor="190" style="left: 710.98px; top: 924.24px;">190</div>
  <div class="numero" data-valor="191" style="left: 106.00px; top: 993.02px;">191</div>
  <div class="numero" data-valor="192" style="left: 173.22px; top: 993.02px;">192</div>
  <div class="numero" data-valor="193" style="left: 240.44px; top: 993.02px;">193</div>
  <div class="numero" data-valor="194" style="left: 307.66px; top: 993.02px;">194</div>
  <div class="numero" data-valor="195" style="left: 374.88px; top: 993.02px;">195</div>
  <div class="numero" data-valor="196" style="left: 442.10px; top: 993.02px;">196</div>
  <div class="numero" data-valor="197" style="left: 509.32px; top: 993.02px;">197</div>
  <div class="numero" data-valor="198" style="left: 576.54px; top: 993.02px;">198</div>
  <div class="numero" data-valor="199" style="left: 643.76px; top: 993.02px;">199</div>
  <div class="numero" data-valor="200" style="left: 710.98px; top: 993.02px;">200</div>
  
  
  <div class="loading" id="loading-2">Carregando status dos números...</div>
  
  <div class="save-btn-container">
    <button class="save-btn" onclick="salvarRifaComoImagem(2)">Salvar Rifa 2 como Imagem</button>
  </div>
</div>

<!-- Rifa 3 (201-300) -->
<div class="rifa-title">Rifa 3 (Números 201-300)</div>
<div class="rifa-container rifa-3">
  <img src="https://i.ibb.co/9mfXL8vR/Rifa-sem-numeros.jpg" alt="Rifa" class="rifa-bg">
  <!-- Números 201-300 -->
  <div class="numero" data-valor="201" style="left: 106.00px; top: 374.00px;">201</div>
  <div class="numero" data-valor="202" style="left: 173.22px; top: 374.00px;">202</div>
  <div class="numero" data-valor="203" style="left: 240.44px; top: 374.00px;">203</div>
  <div class="numero" data-valor="204" style="left: 307.66px; top: 374.00px;">204</div>
  <div class="numero" data-valor="205" style="left: 374.88px; top: 374.00px;">205</div>
  <div class="numero" data-valor="206" style="left: 442.10px; top: 374.00px;">206</div>
  <div class="numero" data-valor="207" style="left: 509.32px; top: 374.00px;">207</div>
  <div class="numero" data-valor="208" style="left: 576.54px; top: 374.00px;">208</div>
  <div class="numero" data-valor="209" style="left: 643.76px; top: 374.00px;">209</div>
  <div class="numero" data-valor="210" style="left: 710.98px; top: 374.00px;">210</div>
  <div class="numero" data-valor="211" style="left: 106.00px; top: 442.78px;">211</div>
  <div class="numero" data-valor="212" style="left: 173.22px; top: 442.78px;">212</div>
  <div class="numero" data-valor="213" style="left: 240.44px; top: 442.78px;">213</div>
  <div class="numero" data-valor="214" style="left: 307.66px; top: 442.78px;">214</div>
  <div class="numero" data-valor="215" style="left: 374.88px; top: 442.78px;">215</div>
  <div class="numero" data-valor="216" style="left: 442.10px; top: 442.78px;">216</div>
  <div class="numero" data-valor="217" style="left: 509.32px; top: 442.78px;">217</div>
  <div class="numero" data-valor="218" style="left: 576.54px; top: 442.78px;">218</div>
  <div class="numero" data-valor="219" style="left: 643.76px; top: 442.78px;">219</div>
  <div class="numero" data-valor="220" style="left: 710.98px; top: 442.78px;">220</div>
  <div class="numero" data-valor="221" style="left: 106.00px; top: 511.56px;">221</div>
  <div class="numero" data-valor="222" style="left: 173.22px; top: 511.56px;">222</div>
  <div class="numero" data-valor="223" style="left: 240.44px; top: 511.56px;">223</div>
  <div class="numero" data-valor="224" style="left: 307.66px; top: 511.56px;">224</div>
  <div class="numero" data-valor="225" style="left: 374.88px; top: 511.56px;">225</div>
  <div class="numero" data-valor="226" style="left: 442.10px; top: 511.56px;">226</div>
  <div class="numero" data-valor="227" style="left: 509.32px; top: 511.56px;">227</div>
  <div class="numero" data-valor="228" style="left: 576.54px; top: 511.56px;">228</div>
  <div class="numero" data-valor="229" style="left: 643.76px; top: 511.56px;">229</div>
  <div class="numero" data-valor="230" style="left: 710.98px; top: 511.56px;">230</div>
  <div class="numero" data-valor="231" style="left: 106.00px; top: 580.34px;">231</div>
  <div class="numero" data-valor="232" style="left: 173.22px; top: 580.34px;">232</div>
  <div class="numero" data-valor="233" style="left: 240.44px; top: 580.34px;">233</div>
  <div class="numero" data-valor="234" style="left: 307.66px; top: 580.34px;">234</div>
  <div class="numero" data-valor="235" style="left: 374.88px; top: 580.34px;">235</div>
  <div class="numero" data-valor="236" style="left: 442.10px; top: 580.34px;">236</div>
  <div class="numero" data-valor="237" style="left: 509.32px; top: 580.34px;">237</div>
  <div class="numero" data-valor="238" style="left: 576.54px; top: 580.34px;">238</div>
  <div class="numero" data-valor="239" style="left: 643.76px; top: 580.34px;">239</div>
  <div class="numero" data-valor="240" style="left: 710.98px; top: 580.34px;">240</div>
  <div class="numero" data-valor="241" style="left: 106.00px; top: 649.12px;">241</div>
  <div class="numero" data-valor="242" style="left: 173.22px; top: 649.12px;">242</div>
  <div class="numero" data-valor="243" style="left: 240.44px; top: 649.12px;">243</div>
  <div class="numero" data-valor="244" style="left: 307.66px; top: 649.12px;">244</div>
  <div class="numero" data-valor="245" style="left: 374.88px; top: 649.12px;">245</div>
  <div class="numero" data-valor="246" style="left: 442.10px; top: 649.12px;">246</div>
  <div class="numero" data-valor="247" style="left: 509.32px; top: 649.12px;">247</div>
  <div class="numero" data-valor="248" style="left: 576.54px; top: 649.12px;">248</div>
  <div class="numero" data-valor="249" style="left: 643.76px; top: 649.12px;">249</div>
  <div class="numero" data-valor="250" style="left: 710.98px; top: 649.12px;">250</div>
  <div class="numero" data-valor="251" style="left: 106.00px; top: 717.90px;">251</div>
  <div class="numero" data-valor="252" style="left: 173.22px; top: 717.90px;">252</div>
  <div class="numero" data-valor="253" style="left: 240.44px; top: 717.90px;">253</div>
  <div class="numero" data-valor="254" style="left: 307.66px; top: 717.90px;">254</div>
  <div class="numero" data-valor="255" style="left: 374.88px; top: 717.90px;">255</div>
  <div class="numero" data-valor="256" style="left: 442.10px; top: 717.90px;">256</div>
  <div class="numero" data-valor="257" style="left: 509.32px; top: 717.90px;">257</div>
  <div class="numero" data-valor="258" style="left: 576.54px; top: 717.90px;">258</div>
  <div class="numero" data-valor="259" style="left: 643.76px; top: 717.90px;">259</div>
  <div class="numero" data-valor="260" style="left: 710.98px; top: 717.90px;">260</div>
  <div class="numero" data-valor="261" style="left: 106.00px; top: 786.68px;">261</div>
  <div class="numero" data-valor="262" style="left: 173.22px; top: 786.68px;">262</div>
  <div class="numero" data-valor="263" style="left: 240.44px; top: 786.68px;">263</div>
  <div class="numero" data-valor="264" style="left: 307.66px; top: 786.68px;">264</div>
  <div class="numero" data-valor="265" style="left: 374.88px; top: 786.68px;">265</div>
  <div class="numero" data-valor="266" style="left: 442.10px; top: 786.68px;">266</div>
  <div class="numero" data-valor="267" style="left: 509.32px; top: 786.68px;">267</div>
  <div class="numero" data-valor="268" style="left: 576.54px; top: 786.68px;">268</div>
  <div class="numero" data-valor="269" style="left: 643.76px; top: 786.68px;">269</div>
  <div class="numero" data-valor="270" style="left: 710.98px; top: 786.68px;">270</div>
  <div class="numero" data-valor="271" style="left: 106.00px; top: 855.46px;">271</div>
  <div class="numero" data-valor="272" style="left: 173.22px; top: 855.46px;">272</div>
  <div class="numero" data-valor="273" style="left: 240.44px; top: 855.46px;">273</div>
  <div class="numero" data-valor="274" style="left: 307.66px; top: 855.46px;">274</div>
  <div class="numero" data-valor="275" style="left: 374.88px; top: 855.46px;">275</div>
  <div class="numero" data-valor="276" style="left: 442.10px; top: 855.46px;">276</div>
  <div class="numero" data-valor="277" style="left: 509.32px; top: 855.46px;">277</div>
  <div class="numero" data-valor="278" style="left: 576.54px; top: 855.46px;">278</div>
  <div class="numero" data-valor="279" style="left: 643.76px; top: 855.46px;">279</div>
  <div class="numero" data-valor="280" style="left: 710.98px; top: 855.46px;">280</div>
  <div class="numero" data-valor="281" style="left: 106.00px; top: 924.24px;">281</div>
  <div class="numero" data-valor="282" style="left: 173.22px; top: 924.24px;">282</div>
  <div class="numero" data-valor="283" style="left: 240.44px; top: 924.24px;">283</div>
  <div class="numero" data-valor="284" style="left: 307.66px; top: 924.24px;">284</div>
  <div class="numero" data-valor="285" style="left: 374.88px; top: 924.24px;">285</div>
  <div class="numero" data-valor="286" style="left: 442.10px; top: 924.24px;">286</div>
  <div class="numero" data-valor="287" style="left: 509.32px; top: 924.24px;">287</div>
  <div class="numero" data-valor="288" style="left: 576.54px; top: 924.24px;">288</div>
  <div class="numero" data-valor="289" style="left: 643.76px; top: 924.24px;">289</div>
  <div class="numero" data-valor="290" style="left: 710.98px; top: 924.24px;">290</div>
  <div class="numero" data-valor="291" style="left: 106.00px; top: 993.02px;">291</div>
  <div class="numero" data-valor="292" style="left: 173.22px; top: 993.02px;">292</div>
  <div class="numero" data-valor="293" style="left: 240.44px; top: 993.02px;">293</div>
  <div class="numero" data-valor="294" style="left: 307.66px; top: 993.02px;">294</div>
  <div class="numero" data-valor="295" style="left: 374.88px; top: 993.02px;">295</div>
  <div class="numero" data-valor="296" style="left: 442.10px; top: 993.02px;">296</div>
  <div class="numero" data-valor="297" style="left: 509.32px; top: 993.02px;">297</div>
  <div class="numero" data-valor="298" style="left: 576.54px; top: 993.02px;">298</div>
  <div class="numero" data-valor="299" style="left: 643.76px; top: 993.02px;">299</div>
  <div class="numero" data-valor="300" style="left: 710.98px; top: 993.02px;">300</div>
  
  <div class="loading" id="loading-3">Carregando status dos números...</div>
  
  <div class="save-btn-container">
    <button class="save-btn" onclick="salvarRifaComoImagem(3)">Salvar Rifa 3 como Imagem</button>
  </div>
</div>

<script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>

<script>
  // Substitua esta URL pela URL do seu Google Apps Script
  const API_URL = "https://script.google.com/macros/s/AKfycbyzOr1df9iFg4sLnLsYhl6GaQB-OAvCjTQ--9Q61b7qfF3uLAYGWyyX64Q6wU3vbPvMBQ/exec";
  
  // Função para carregar dados de uma rifa específica
  async function carregarRifa(rifaId, inicio, fim) {
    const container = document.querySelector(`.rifa-${rifaId}`);
    const loadingElement = document.getElementById(`loading-${rifaId}`);
    const numeros = container.querySelectorAll('.numero');
    
    // Esconde os números enquanto carrega
    numeros.forEach(num => num.style.visibility = 'hidden');
    
    try {
      const response = await fetch(`${API_URL}?rifa=${rifaId}`);
      if (!response.ok) throw new Error("Erro na requisição");
      
      const data = await response.json();
      const vendidosMap = {};
      
      data.forEach(item => {
        if (item.status === "vendido") {
          vendidosMap[item.numero] = true;
        }
      });
      
      // Atualiza a interface
      numeros.forEach(num => {
        const valor = num.dataset.valor;
        if (vendidosMap[valor]) {
          num.classList.add('vendido');
        } else {
          num.classList.remove('vendido');
        }
        num.style.visibility = 'visible';
      });
      
      // Esconde o loading
      loadingElement.style.display = 'none';
      
    } catch (error) {
      console.error(`Erro ao carregar rifa ${rifaId}:`, error);
      loadingElement.textContent = "Erro ao carregar os dados. Recarregue a página.";
      numeros.forEach(num => num.style.visibility = 'visible');
    }
  }
  
  // Carrega todas as rifas
  document.addEventListener('DOMContentLoaded', () => {
    carregarRifa(1, 1, 100);
    carregarRifa(2, 101, 200);
    carregarRifa(3, 201, 300);
    
    // Atualiza automaticamente a cada 30 segundos
    setInterval(() => {
      carregarRifa(1, 1, 100);
      carregarRifa(2, 101, 200);
      carregarRifa(3, 201, 300);
    }, 30000);
  });
  
  // Função para atualizar o status na planilha
  async function atualizarStatusNoSheets(numero, vendido, rifaId) {
    const numeroElement = document.querySelector(`.rifa-${rifaId} .numero[data-valor="${numero}"]`);
    if (!numeroElement) return;
    
    numeroElement.classList.add('atualizando');
    
    try {
      const response = await fetch(API_URL, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({
          numero: numero.toString(),
          status: vendido ? "vendido" : "",
          rifa: rifaId.toString()
        })
      });
      
      if (!response.ok) throw new Error(`Erro HTTP! Status: ${response.status}`);
      
      const data = await response.json();
      if (data.error) throw new Error(data.message);
      
      numeroElement.classList.toggle('vendido', vendido);
      
    } catch (error) {
      console.error("Erro ao atualizar número:", error);
      alert(`Erro ao atualizar número ${numero}:\n${error.message}`);
      numeroElement.classList.toggle('vendido'); // Reverte a mudança visual
    } finally {
      numeroElement.classList.remove('atualizando');
    }
  }
  
  // Adiciona eventos de clique a todos os números
  document.querySelectorAll('.numero').forEach(num => {
    num.addEventListener('click', function() {
      const rifaId = this.closest('[class^="rifa-"]').className.match(/rifa-(\d)/)[1];
      const numero = this.dataset.valor;
      const vendido = !this.classList.contains('vendido');
      atualizarStatusNoSheets(numero, vendido, rifaId);
    });
  });
  
  // Função para salvar uma rifa específica como imagem
  function salvarRifaComoImagem(rifaId) {
  const container = document.querySelector(`.rifa-${rifaId}`);
  if (!container) {
    alert("Rifa não encontrada!");
    return;
  }

  html2canvas(container, {
    useCORS: true,
    backgroundColor: "#ffffff",
    scale: 2,
    logging: true
  }).then(canvas => {
    canvas.toBlob(blob => {
      if (!blob) {
        alert("Erro ao gerar imagem.");
        return;
      }

      const fileName = `rifa-${rifaId}-${new Date().toISOString().slice(0,10)}.png`;
      const file = new File([blob], fileName, { type: "image/png" });

      // Primeiro tenta usar a API de compartilhamento
      if (navigator.canShare && navigator.canShare({ files: [file] })) {
        navigator.share({
          files: [file],
          title: `Rifa ${rifaId}`,
          text: `Confira os números da Rifa ${rifaId}`,
        })
        .catch(err => {
          console.log("Compartilhamento falhou, usando fallback de download", err);
          downloadFallback(blob, fileName);
        });
      } else {
        // Fallback para download tradicional
        downloadFallback(blob, fileName);
      }
    }, "image/png", 0.95);
  }).catch(err => {
    console.error("Erro ao gerar imagem:", err);
    alert("Erro ao capturar imagem: " + err.message);
  });
}

// Função fallback para download tradicional
function downloadFallback(blob, fileName) {
  const url = URL.createObjectURL(blob);
  const link = document.createElement("a");
  
  // Para iOS precisamos de um tratamento especial
  if (/iPad|iPhone|iPod/.test(navigator.userAgent)) {
    const reader = new FileReader();
    reader.onload = function(e) {
      const a = document.createElement("a");
      a.href = e.target.result;
      a.download = fileName;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
    };
    reader.readAsDataURL(blob);
  } else {
    // Android e outros navegadores
    link.href = url;
    link.download = fileName;
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
  }
  
  // Limpeza de memória
  setTimeout(() => URL.revokeObjectURL(url), 100);
}  
</script>

</body>
</html>